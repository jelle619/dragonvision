<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content= "width=device-width, initial-scale=1.0"> <!-- makes the website responsive -->
  <title>Dragon Vision â€” Visualisation 2</title>
  <link rel="stylesheet" type="text/css" href="css/global.css" media="screen" /> <!-- import global stylesheet -->
  <script src="https://d3js.org/d3.v6.min.js"></script> <!-- import D3.js, version 6 -->
</head>
<body>

  <div id='nav'>
    <a href="index.html">Homepage</a>
    <a href="visualisation1.html">Visualisation 1</a>
    <a href="visualisation2.html">Visualisation 2</a>
    <a href="credits.html">Credits</a>
  </div>

  <div id='main'>
    <h1>Visualisation 2</h1>
    <p>A powerful, yet gorgeous visualisation.</p>
  </div>

  <p id="debug"> </p>

  <div id="visual"></div>
  <script>

    //variables
    var width = 800
    var height = 400
    var posx =300
    var posy = 100
    var len1 = 180
    var len2 = 230

    // Test data for the matrix

    d3.select("debug").text("Debug")

    // d3.csv("file:///C:/Users/20200820/Documents/GitHub/2IOA0/data/enron_sample.csv", function(data) {
    //    console.log(data);
    // });
    

    //for (var i=0; i<=data.nodes.length; i++){
      //data.nodes[i] = "mail" + i + "@testmail.com"
    //}
    
    //creating the SVG element
    var svg = d3.select("#visual")
    .append("svg")
    .attr("width", width)
    .attr("height", height)

    //creating the rectangle
    svg.append("rect")
    .attr("x", posx)
    .attr("y", posy)
    .attr("width", len1)
    .attr("height", len2)
    .attr("fill", "red")
   </script> 
  <script type="text/javascript" src="script.js"></script> <!-- import JavaScript -->

<div id = "visual"></div>

<script>

  var maildata = [
    {
      "date" : new Date ('2000-08-13'),
      "fromId" : 96,
      "fromEmail": 'matthew.lenhart@enron.com',
      "fromJobtitle": "Employee",
      "toId" : 77,
      "fromEmail": 'eric.bass@enron.com',
      "fromJobtitle": "Trader",
      "messageType": "CC",
      "sentiment": 0.01369863

    }
  ];

  for (var i = 0; i<100; i++){
    var m = {
      "date" : new Date ('2000-08-13'),
      "fromId" : i,
      "fromEmail": 'mail' + i + '@enron.com',
      "fromJobtitle": "Employee",
      "toId" : i + 10,
      "fromEmail": 'mail' + i + '@enron.com',
      "fromJobtitle": "Trader",
      "messageType": "CC",
      "sentiment": 0
    }

    maildata.push(m)
  }

  for (var i = 0; i<maildata.length; i++) {
    console.log("maildata [" + i + ']=' + maildata[i].date + ',' + maildata[i].fromId + " " + maildata[i].fromEmail)
  }
</script>
</body>
</html>
